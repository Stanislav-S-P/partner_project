***
## Инструкция по эксплуатации проекта
***

### Перечень файлов и краткое описание админ-панели (Django).
***

### Файлы в корне проекта:

1. __manage.py__ - файл с командами приложения.
2. __requirements.txt__ - файл с зависимостями.
3. __db.sqlite3__ - файл базы данных.

### Пакеты и директории в корне проекта:

#### 1. crypto:
* __init.py__ - инициализирует пакет crypto и его содержимое.
* __asgi.py__ - файл для ассинхронной связи сервера и проекта.
* __wsgi.py__ - файл для связи сервера и проекта.
* __settings.py__ - файл с конфигурациями проекта.
* __urls.py__ - файл с URL-адресами проекта.

#### 2. app_crypto:
* __init.py__ - инициализирует пакет app_crypto и его содержимое.
* __admin.py__ - файл с настройками админ-панели.
* __apps.py__ - файл с конфигурацией приложения.
* __models.py__ - файл с моделями базы данных приложения.
* __forms.py__ - файл с описанием форм приложения.
* __views.py__ - файл с функцией-контроллером, для отображения HTML страниц.
    #### 1. migrations:
    * __init.py__ - инициализирует пакет migrations и его содержимое
    #### 2. templates:
    * __signup.html__ - html шаблон для отображения страницы добавления партнера

#### 3. app_list_deal:
* __init.py__ - инициализирует пакет app_list_deal и его содержимое.
* __admin.py__ - файл с настройками админ-панели.
* __apps.py__ - файл с конфигурацией приложения.
* __models.py__ - файл с моделями базы данных приложения.
    #### 1. migrations:
    * __init.py__ - инициализирует пакет migrations и его содержимое

#### 4. config:
* __gunicorn.conf.py__ - файл с конфигурациями гуникорна.
* __crypto.conf__ - файл с конфигурациями супервизора.

#### 5. logs:
* __debug.log__ - файл с логами проекта.

#### 6. static:
* Содержит все статический файлы приложения (css, js, изображения)

Внимание!
Не пытайтесь запускать админ-панель django, без установки всех зависимостей и изменения файлов внутри самого фреймворка!

### Перечень файлов и краткое описание бота по сбору заявок (Aiogram).
***

### Файлы в корне проекта:

1. __.env.template__ - образец файла .env с описанием данных.
2. __.env__ - необходимо создать вручную и поместить Токен телеграм-бота.
3. __loader.py__ - создаёт экземпляры: телеграмм-бота и логгера.
4. __logging_config.py__ - задаёт конфигурацию логгеру.
5. __main.py__ - запускает бота.
6. __requirements.txt__ - файл с зависимостями.

### Пакеты в корне проекта:
#### 1. settings:
* __init.py__ - инициализирует пакет settings и его содержимое.
* __settings.py__ - подгружает переменные окружения, для работы бота.
* __constants.py__ - файл с текстами сообщений бота.

#### 2. keyboards:
* __init.py__ - инициализирует пакет keyboards и его содержимое
* __keyboards.py__  - содержит все клавиатуры участвующие в проекте
* __key_text.py__ - файл с текстами кнопок клавиатур бота.

#### 3. handlers:
* __init.py__ - инициализирует пакет handlers и его содержимое.
* __start.py__ - содержит хэндлеры с основным сценарием работы бота.
* __echo.py__ - содержит хэндлер для отлова сообщений вне сценария.

#### 4. database:
* __init.py__ - инициализирует пакет database и его содержимое
* __database.py__ - содержит декоратор подключения к БД и функции с запросами.
* __models.py__ - содержит модели классов машины состояния.

#### 5. config:
* __bot.conf__ - файл с конфигурациями супервизора.


### Перечень файлов и краткое описание партнерского бота (Aiogram).
***

### Файлы в корне проекта:

1. __.env.template__ - образец файла .env с описанием данных.
2. __.env__ - необходимо создать вручную и поместить Токен телеграм-бота.
3. __loader.py__ - создаёт экземпляры: телеграмм-бота и логгера.
4. __logging_config.py__ - задаёт конфигурацию логгеру.
5. __main.py__ - запускает бота.
6. __requirements.txt__ - файл с зависимостями.

### Пакеты в корне проекта:
#### 1. settings:
* __init.py__ - инициализирует пакет settings и его содержимое.
* __settings.py__ - подгружает переменные окружения, для работы бота.
* __constants.py__ - файл с текстами сообщений бота.

#### 2. keyboards:
* __init.py__ - инициализирует пакет keyboards и его содержимое
* __keyboards.py__  - содержит все клавиатуры участвующие в проекте
* __key_text.py__ - файл с текстами кнопок клавиатур бота.

#### 3. handlers:
* __init.py__ - инициализирует пакет handlers и его содержимое.
* __start.py__ - содержит хэндлеры с основным сценарием работы бота.
* __echo.py__ - содержит хэндлер для отлова сообщений вне сценария.

#### 4. database:
* __init.py__ - инициализирует пакет database и его содержимое
* __database.py__ - содержит декоратор подключения к БД и функции с запросами.
* __models.py__ - содержит модели классов машины состояния.

#### 5. config:
* __partner.conf__ - файл с конфигурациями супервизора.


### Руководство пользователя

При добавлении нового партнера, необходимо указывать актуальный ID партнера (создается вами), т.к. он привязан к боту. Так же в поле ID оператора, указывается user_id телеграм-аккаунта, который будет взаимодействовать с данным ботом.

Для смены пароля партнеру, необходимо удалить запись с данными о партнере из БД и добавить как нового пользователя с новым партнером. (Данная манипуляция проводится из-за того, что пароли автоматически Хэшируются, и захешированное поле не выводится, а при изменении обычного поля в записи, пароль не сменится)
